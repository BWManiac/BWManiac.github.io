<!DOCTYPE html>
<html>

<head>
    <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase-firestore.js"></script>
    <link rel="stylesheet" href="styles.css">

    <script src="app.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Dosis|Muli" rel="stylesheet">

</head>

<body>
    <div class="navigation">
        <a href="./home.html">
            <img src="./img/Chaser home green.png" alt="achievements" style="width:50px;height:50px;border:0;margin:0px 20px">
        </a>
        <a href="./challenges.html">
            <img src="./img/Chaser competition green.png" alt="achievements" style="width:50px;height:50px;border:0;margin:0px 20px">
        </a>
        <a href="./achievements.html">
            <img src="./img/Chaser achievements green.png" alt="achievements" style="width:50px;height:50px;border:0;margin:0px 20px">
        </a>
        <a href="./statistics.html">
            <img src="./img/Chaser statistics green.png" alt="achievements" style="width:50px;height:50px;border:0;margin:0px 20px">
        </a>
    </div>
    <h1>COMPETITION</h1>
    <div class="content">
        <h2>Active Challenges</h2>
        <hr>
        <div style="vertical-align:center">
            <img src="./img/Chaser user.png" alt="achievements" style="width:50px;height:50px;margin:0px 0px;display: inline">
            <b>Kristen</b> | 7 Miles | 120 minutes | <em>Dinner</em>
            <img src="./img/Chaser thumbs down.png" alt="achievements" style="width:50px;height:50px;margin:0px 0px;display: inline">
        </div>
        <hr>
        <div style="vertical-align:center">
            <img src="./img/Chaser user.png" alt="achievements" style="width:50px;height:50px;margin:0px 0px;display: inline">
            <b>Brittany</b> | 3 Miles | 50 minutes | <em>Dinner</em>
            <img src="./img/Chaser thumbs up.png" alt="achievements" style="width:50px;height:50px;margin:0px 0px;display: inline">
        </div>
        <hr>
        <div style="vertical-align:center">
            <img src="./img/Chaser user.png" alt="achievements" style="width:50px;height:50px;margin:0px 0px;display: inline">
            <b>Jacobzen</b> | 5 Miles | 60 minutes | <em>Boba</em>
            <img src="./img/Chaser thumbs up.png" alt="achievements" style="width:50px;height:50px;margin:0px 0px;display: inline">
        </div>
    </div>

    </div>
    <!-- <div class="content">
        <h2>Active Challenges</h2>
        <table style="width:100%">
            <tr>
                <th align="left"></th>
                <th align="left">Goal Time</th>
                <th align="left">Goal Distance</th>
                <th align="left">Goal Prize</th>
            </tr>
            <tr>
                <td>Jack</td>
                <td>30 minutes</td>
                <td>3 miles</td>
                <td>Boba</td>
            </tr>
            <tr>
                <td><i>Friend's current status</i></td>
                <td>15 minutes</td>
                <td>1.5 miles</td>
                <td id="win" style="color:orange;">No winner yet</td>
            </tr>
        </table>

        <table style="width:100%">
            <tr>
                <th align="left"></th>
                <th align="left">Goal Time</th>
                <th align="left">Goal Distance</th>
                <th align="left">Goal Prize</th>
            </tr>

            <tr>
                <td>Zen</td>
                <td>60 minutes</td>
                <td>6 miles</td>
                <td>Pizza</td>
            </tr>
 
            <tr>
                <td><i>Friend's current status</i></td>
                <td>60 minutes</td>
                <td>6 miles</td>
                <td style="color:red;"><b>They won</b></td>
            </tr>
        </table>
    </div> -->

    <div class="content">
        <h2>Challenge a friend</h2>
        <form id="challenge-form">
            <input type="text" name="email" placeholder="Email">

            <input type="text" name="distance" placeholder="Distance (In miles)">

            <input type="text" name="city" placeholder="Time (In minutes)">

            <input type="text" name="reward" placeholder="Reward">

            <button onclick="myFunction()">Submit</button>
        </form>
    </div>

    <script>
        const win = document.querySelector('#win');
        let TotalMiles = 0;
        let TotalTime = 0;
        window.onload = function () {
            alert("Hello! I am an alert box!!");
            updateChallenge();

        }

        function updateChallenge() {
            TotalMiles = 0;
            TotalTime = 0;
            console.log(TotalMiles);

            db.collection('cafes').get().then((snapshot) => {
                snapshot.docs.forEach(doc => {
                    TotalMiles += Number(doc.data().name);
                    TotalTime += Number(doc.data().city);

                    if (TotalMiles / 2 >= 3) {
                        if (TotalTime / 2 >= 30) {
                            win.innerText = "They lost";
                            alert("You win!");

                        }
                    }

                })
            })
        }

    </script>
    <script>
        function myFunction() {
            alert("Submitted");
        }
    </script>

</body>


</html>